<!DOCTYPE html>
<html>
  <head>
    <style>
#zombie_map {
    width: 600px;
    height: 400px;
    background-color: grey;
}
</style>
    <title>zombie map</title>
  </head>
  <body>
    My zombie map
<div id="zombie_map"></div>
<form>
    Select an emoji
<select id="icon_to_use">
  <option value="zombie.png">Zombie</option>
  <option value="hospital.png">Hospital</option>
  <option value="sword.png">Sword</option>
  </select>
</form>
<script>
    var zombie_map;
    var all_markers = []
    var data = '42.43102760471219 -71.15771204500214 hospital.png, 42.42110166210196 -71.17537059423034 hospital.png, 42.417956413784026 -71.1617387320141 hospital.png, 42.41613819208332 -71.15861892700195 sword.png, 42.42435936907909 -71.15482091903687 hospital.png, 42.419187598325436 -71.15202069282532 sword.png, 42.411100406567336 -71.14497184753418 hospital.png, 42.414095199777755 -71.15042579348096 sword.png, 42.415884728266256 -71.1563766002655 sword.png, 42.415884728266256 -71.1563766002655 hospital.png 42.41983314714153 -71.17610691453149 hospital.png 42.41936584996763 -71.17687939072778 hospital.png 42.42030836103497 -71.17818830872704 hospital.png 42.42121125751013 -71.17712615395715 hospital.png 42.42131021435159 -71.1766004562378 zombie.png'
    var markers = data.split("\n");
    function initMap() {
            zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            zoom: 10,
            center: {lat: 42.42131021435159, lng: -71.1766004562378}
        });
        for(var i=0; i < markers.length; i++){
          console.log(markers[i] + "<br>");
          
          var marker_data = markers[i].trim();
          marker_data = marker_data.split(" ");
          var latitude = marker_data[0];
          var longitude = marker_data[1];
          var emoji = marker_data[2];
          var marker_position = new google.maps.LatLng(latitude, longitude);
          all_markers.push;
      }
       function place_marker(location){
var emoji = document.getElementById('icon_to_use').value;
 var marker = new google.maps.Marker({
  position: location,
  map: zombie_map,
  icon: emoji
});
console.log(location.lat() + " " + location.lng() + " " + emoji);
var marker = new google.maps.Marker({
  position: marker_position,
  map: zombie_map,
  icon: "me.png"
});
}
zombie_map.addListener('click', function(e) {
  var location = e.latLng;
  place_marker(location);
});
if(navigator.geolocation) {
    navigator.geolocation.watchPosition(set_my_position);
}
else {
    alert("Geolocation doesn't work in your browser");
}
    }
    function set_my_position(){
function set_my_position(position){


position.coords.latitude
position.coords.longitude
var pos = new google.maps.LatLng(position);
}

}
</script>
    <script async defer
   src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDswI4L5F7nvt6S60kAX2iLqEV7LGYtFcc&callback=initMap">
 </script>
  </body>
</html>